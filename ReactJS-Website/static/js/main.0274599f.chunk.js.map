{"version":3,"sources":["components/Cart/Cart.module.css","components/Login/Login.module.css","components/Product/ProdItem.module.css","components/Layout/Header.module.css","components/UI/ErrorModal.module.css","components/UI/NavigationBar.module.css","components/Product/ProductDetail.module.css","components/Layout/Footer.module.css","components/Product/AddNewProdButton.module.css","components/Product/AddProd.module.css","components/UI/Button.module.css","components/UI/Card.module.css","components/Layout/Main.module.css","components/UI/CardBox.module.css","components/Product/LoadingDatabase.module.css","store/auth-context.js","components/UI/Button.js","components/UI/Card.js","store/cart-context.js","components/Cart/CartItem.js","components/Cart/Cart.js","components/Layout/Footer.js","components/Layout/Header.js","components/Layout/Main.js","components/Login/Login.js","components/Login/Signup.js","components/Product/AddNewProdButton.js","components/UI/ErrorModal.js","components/Product/AddProd.js","components/UI/CardBox.js","components/UI/NavigationBar.js","components/Product/ProductDetail.js","store/CartProvider.js","components/Product/ProdItem.js","components/Product/ProdListNew.js","components/Product/LoadingDatabase.js","App.js","index.js"],"names":["module","exports","logoutTimer","Button","props","className","styles","button","type","onClick","children","Card","card","CartContext","React","createContext","items","totalAmount","itemsInCart","addItem","item","removeItem","id","CartItem","cartCtx","useContext","typeClass","Game","Movie","Music","App","cardMain","name","price","addButton","keyID","Cart","console","log","cardHeader","map","prod","key","Math","random","cardFooter","total","Footer","footer","credit","AuthContext","token","isLoggedIn","admin","login","logout","AuthContextProvider","initialToken","localStorage","getItem","useState","setToken","setAdmin","logoutHandler","clearTimeout","contextValue","expirationTime","email","setItem","remainingTime","currentTime","Date","getTime","calculateRemainingTime","setTimeout","Provider","value","Header","authCtx","isOn","setIsOn","animClass","cartItems","bump","useEffect","timer","header","to","home","cartContainer","cart","header1","Main","main","Login","password1Ref","useRef","email1Ref","error","setError","history","useHistory","isLoading","setIsLoading","form","onSubmit","event","preventDefault","current","enteredPassword","enteredEmail","fetch","method","body","JSON","stringify","password","returnSecureToken","headers","then","res","ok","json","data","expiresIn","idToken","toString","replace","message","loading","htmlFor","label","input","ref","dbReload","Signup","username2Ref","password2Ref","emailRef","enteredUsername","userData","username","required","AddNewProdButton","ErrorModal","backdrop","modal","top","title","center","bottom","AddProd","prodType","setProdType","prodName","setProdName","prodPrice","setProdPrice","prodDescription","setProdDescription","trim","length","ProdData","onChange","target","min","CardBox","NavigationBar","search","setSearch","searchHandler","searchButton","nav1","nav2","e","ProductDetail","params","useParams","productId","products","desc","link","defaultCartState","cartReducer","state","action","concat","cartItemIndex","findIndex","cartItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","ProdItem","ProdListNew","sortedList","setSortedList","dataList","dataBase","newList","sortingBy","searchBy","toLowerCase","includes","LoadingDatabase","setDataList","response","realData","dataItem","push","selectedType","setSelectedType","searchedItem","setSearchedItem","formState","setFormState","setDataBase","switch1","setSwitch1","setDbReload","addFormHandler","switch1Handler","databaseHandler","db","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0274599f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Cart_card__3TUDf\",\"cardMain\":\"Cart_cardMain__lDO8_\",\"cardHeader\":\"Cart_cardHeader__3qRGK\",\"cardFooter\":\"Cart_cardFooter__25KBC\",\"type\":\"Cart_type__VB1ui\",\"name\":\"Cart_name__YujRA\",\"total\":\"Cart_total__1Hv8V\",\"price\":\"Cart_price__3HkeZ\",\"addButton\":\"Cart_addButton__34R-d\",\"button\":\"Cart_button__2O0Ko\",\"Movie\":\"Cart_Movie__3EbUc\",\"Game\":\"Cart_Game__3dgux\",\"Music\":\"Cart_Music__NBZlA\",\"App\":\"Cart_App__2bJnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Login_card__2IoeT\",\"form\":\"Login_form__2XRL0\",\"input\":\"Login_input__1e88m\",\"loading\":\"Login_loading__3-0s6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ProdItem_card__1udSm\",\"link\":\"ProdItem_link__2pLkG\",\"type\":\"ProdItem_type__1fA1_\",\"name\":\"ProdItem_name__elB4Q\",\"price\":\"ProdItem_price__1TflR\",\"addButton\":\"ProdItem_addButton__3ayO2\",\"Movie\":\"ProdItem_Movie__12kHs\",\"Game\":\"ProdItem_Game__3WVnK\",\"Music\":\"ProdItem_Music__3eAWW\",\"App\":\"ProdItem_App__vfOs2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Uzh3\",\"header1\":\"Header_header1__1bCLY\",\"home\":\"Header_home__269yr\",\"cart\":\"Header_cart__QMTQu\",\"logout\":\"Header_logout__1FgqC\",\"login\":\"Header_login__pTw8w\",\"cartContainer\":\"Header_cartContainer__34ogH\",\"cartItems\":\"Header_cartItems__2xxdj\",\"bump\":\"Header_bump__2SrNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ErrorModal_modal__gM4H8\",\"top\":\"ErrorModal_top__2Rnhr\",\"center\":\"ErrorModal_center__S6407\",\"bottom\":\"ErrorModal_bottom__i_FBu\",\"backdrop\":\"ErrorModal_backdrop__3O4qy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"NavigationBar_card__MZ6qQ\",\"nav1\":\"NavigationBar_nav1__1ZEjB\",\"nav2\":\"NavigationBar_nav2__1IT3o\",\"searchButton\":\"NavigationBar_searchButton__3tpz0\",\"input\":\"NavigationBar_input__15GTV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"ProductDetail_name__30_Qd\",\"desc\":\"ProductDetail_desc__3DLYm\",\"modal\":\"ProductDetail_modal___HELN\",\"top\":\"ProductDetail_top__32VD0\",\"center\":\"ProductDetail_center__ku0up\",\"bottom\":\"ProductDetail_bottom__ce_s8\",\"link\":\"ProductDetail_link__dozJ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__354U_\",\"credit\":\"Footer_credit__2Rhl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AddNewProdButton_card__1pjPA\",\"button\":\"AddNewProdButton_button__3WOxO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddProd_form__zbhac\",\"card\":\"AddProd_card__V9MMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3z4yN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__23A_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__11zXl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CardBox_card__TvsmW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"LoadingDatabase_loading__2KCCr\"};","\r\nimport React, { useState } from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nconst AuthContext = React.createContext({\r\n    token: '',\r\n    isLoggedIn : false,\r\n    admin: false,\r\n    login: (token) => {},\r\n    logout: (token)=> {}\r\n});\r\n\r\nconst calculateRemainingTime = (expirationTime) => {\r\n    const currentTime = new Date().getTime();\r\n    const adjEpirationTime = new Date(expirationTime).getTime();\r\n\r\n    const remainingDuration = adjEpirationTime - currentTime;\r\n    return remainingDuration;\r\n}\r\n\r\n\r\n\r\nexport const AuthContextProvider =(props)=> {\r\n    const initialToken = localStorage.getItem('token');\r\n    const [token, setToken] = useState(initialToken);\r\n    const [admin, setAdmin] = useState(false);\r\n\r\n    const userIsLoggedIn = !!token; // if token empty => false, esle => true\r\n    \r\n\r\n\r\n    const logoutHandler =()=>{\r\n        setToken(null);\r\n        setAdmin(false);\r\n        localStorage.removeItem('token');\r\n\r\n        if (logoutTimer) {\r\n            clearTimeout(logoutTimer);\r\n        }\r\n    };\r\n    \r\n    const loginHandler = (token, expirationTime, email)=>{\r\n        setToken(token);\r\n        if ( email === 'mariussaudaniel@gmail.com') {\r\n            setAdmin(true);\r\n        }\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('expirationTime', expirationTime);\r\n\r\n        const remainingTime = calculateRemainingTime(expirationTime);\r\n        logoutTimer = setTimeout(logoutHandler, remainingTime);\r\n    };\r\n\r\n    const contextValue = {\r\n        token: token,\r\n        isLoggedIn: userIsLoggedIn,\r\n        admin: admin,\r\n        login: loginHandler,\r\n        logout: logoutHandler\r\n    }\r\n    \r\n    //  console.log(token);\r\n    return <AuthContext.Provider value={contextValue}>{props.children}</AuthContext.Provider>\r\n}\r\n\r\nexport default AuthContext;","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n   return (\r\n      <button\r\n         className={`${styles.button} ${\r\n            props.className ? props.className : \"\"\r\n         }`}\r\n         type={props.type || 'button'}\r\n         onClick={props.onClick}\r\n      >\r\n         {props.children}\r\n      </button>\r\n   );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styles from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n   return <div className={`${styles.card} ${props.className}`} onClick={props.onClick}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    itemsInCart: 0,\r\n    addItem: (item)=>{},\r\n    removeItem: (id)=>{}\r\n})\r\n\r\nexport default CartContext;","import React from \"react\";\r\nimport styles from \"./Cart.module.css\";\r\nimport Card from \"../UI/Card\";\r\nimport Button from \"../UI/Button\";\r\nimport { useContext } from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst CartItem = (props) => {\r\n    const cartCtx = useContext(CartContext);\r\n    const removeFromCartHandler = () => {\r\n        cartCtx.removeItem(props.keyID);\r\n     };\r\n\r\n     const typeClass = `${styles.type}\r\n                      ${props.type === \"Game\" ? styles.Game : \"\"}\r\n                      ${props.type === \"Movie\" ? styles.Movie : \"\"}\r\n                      ${props.type === \"Music\" ? styles.Music : \"\"}\r\n                      ${props.type === \"App\" ? styles.App : \"\"} `;\r\n   return (\r\n      <Card className={styles.cardMain} key={props.keyID}>\r\n         <div className={styles.name}>{props.name}</div>\r\n         <div className={typeClass}></div>\r\n         <div className={styles.price}>{`${props.price}$`}</div>\r\n         <div className={styles.addButton}>\r\n            <Button className={styles.button} onClick={removeFromCartHandler}>\r\n               Remove\r\n            </Button>\r\n         </div>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useContext} from \"react\";\r\n\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\nimport styles from \"./Cart.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = props => {\r\n\r\n   \r\n   const cartCtx = useContext(CartContext);\r\n   console.log(cartCtx.items, cartCtx.totalAmount);\r\n   \r\n\r\n \r\n   \r\n   return (\r\n      <Card className={styles.card}>\r\n         <Card className={styles.cardHeader}>\r\n            <div className={styles.name}>Name</div>\r\n            <div className={styles.type}>Type</div>\r\n            <div className={styles.price}>Price</div>\r\n            <div className={styles.addButton} />\r\n           \r\n         </Card>\r\n         {cartCtx.items.map((prod) => (\r\n            <div key={Math.random()}>\r\n            <CartItem id={prod.id} name={prod.name} type={prod.type} price={prod.price} keyID={prod.key} /></div>\r\n         ))}\r\n         <Card className={styles.cardFooter}>\r\n            <div className={styles.total}>Total</div>\r\n            <div className={styles.price}>{`${cartCtx.totalAmount} $`}</div>\r\n            <div className={styles.addButton}>\r\n               <Button className={styles.button}>Buy</Button>\r\n            </div>\r\n         </Card>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport styles from './Footer.module.css'\r\n\r\nconst Footer = props => {\r\n    return <div className={styles.footer}><div className={styles.credit}>Ⓒ Created by Onea Marius</div></div>\r\n}\r\n\r\nexport default Footer;","import React, { useContext } from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport { useEffect, useState } from \"react/cjs/react.development\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nconst Header = (props) => {\r\n   const cartCtx = useContext(CartContext);\r\n   const authCtx = useContext(AuthContext);\r\n   const [isOn, setIsOn] = useState(false);\r\n   const animClass = `${styles.cartItems} ${isOn ? styles.bump : \"\"}`;\r\n   \r\n\r\n   const isLoggedIn = authCtx.isLoggedIn;\r\n\r\n   useEffect(() => {\r\n      if (cartCtx.itemsInCart) {\r\n         setIsOn(true);\r\n      }\r\n      const timer = setTimeout(() => {\r\n         setIsOn(false);\r\n      }, [300]);\r\n      return () => {\r\n         clearTimeout(timer);\r\n      };\r\n   }, [cartCtx.itemsInCart]);\r\n\r\n   const logoutHandler =()=>{\r\n      authCtx.logout()\r\n   }\r\n\r\n   return (\r\n      <div>\r\n         {isLoggedIn && (\r\n            <div className={styles.header}>\r\n               <Link to=\"/home\" className={styles.home}></Link>\r\n               <div className={styles.cartContainer}>\r\n                  <Link to=\"/cart\" className={styles.cart}></Link>\r\n                  <div className={animClass}>{cartCtx.itemsInCart}</div>\r\n               </div>\r\n               <Link to=\"/login\" className={styles.logout} onClick={logoutHandler}> </Link>\r\n            </div>\r\n         )}\r\n         {!isLoggedIn && (\r\n            <div className={styles.header1}>\r\n               <Link to=\"/login\" className={styles.login}></Link>\r\n            </div>\r\n         )}\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styles from './Main.module.css'\r\n\r\nconst Main = props => {\r\n    return <div className={`${styles.main} ${props.className ? props.className : ''}`}>{props.children}</div>\r\n}\r\n\r\nexport default Main;","import React, { useContext, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\nimport styles from \"./Login.module.css\";\r\n\r\nconst Login = (props) => {\r\n   const password1Ref = useRef();\r\n   const email1Ref = useRef();\r\n   const [error, setError]= useState('');\r\n   const authCtx = useContext(AuthContext);\r\n   const history = useHistory();\r\n   const [isLoading, setIsLoading] = useState(false);\r\n\r\n   const switchHandler =()=> {\r\n      props.onClick();\r\n   }\r\n\r\n   const dbReloadHandler=()=>{\r\n      props.dbReload();\r\n   }\r\n\r\n   const submitHandler = (event) => {\r\n      event.preventDefault();\r\n      setError('')\r\n      console.log(password1Ref.current.value, email1Ref.current.value)\r\n\r\n      const enteredPassword = password1Ref.current.value;\r\n      const enteredEmail = email1Ref.current.value;\r\n\r\n\r\n      setIsLoading(true);\r\n      fetch('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC4_ps4hI1PjQgwx1YBfyZY2vcAZ_uMqxk',\r\n      {\r\n         method: 'POST',\r\n         body: JSON.stringify({\r\n            email: enteredEmail,\r\n            password: enteredPassword,\r\n            returnSecureToken: true\r\n         }),\r\n         headers: {\r\n            'Content-Type': 'application/json'\r\n         }\r\n      }).then(res => {\r\n         if (res.ok) {\r\n            \r\n            return  res.json().then(data=>{\r\n               const expirationTime = new Date(new Date().getTime()+(+data.expiresIn * 1000));\r\n               console.log(data);\r\n               authCtx.login(data.idToken, expirationTime.toString(), data.email);\r\n               history.replace('/home');\r\n               setError('User Loged In')\r\n               setIsLoading(false);\r\n            })\r\n\r\n               // ....\r\n         } else {\r\n\r\n            return res.json().then(data => {\r\n               // show error modal\r\n               console.log(data.error.message);\r\n               setError(data.error.message);\r\n               setIsLoading(false);\r\n            })\r\n         }\r\n      });\r\n\r\n      if (isLoading) {\r\n         return (\r\n            <section>\r\n               <div className={styles.loading}>Loading...</div>\r\n            </section>\r\n         );\r\n      }\r\n\r\n      \r\n   }\r\n\r\n   return (\r\n      <Card className={styles.card}>\r\n         <h2>LOGIN</h2>\r\n         <form className={styles.form} onSubmit={submitHandler}>\r\n            <label htmlFor=\"email1\" className={styles.label}>\r\n               Email:\r\n            </label>\r\n            <input id=\"email1\" type=\"text\" className={styles.input} ref={email1Ref} />\r\n            <label htmlFor=\"password1\" className={styles.label}> \r\n               Password:\r\n            </label>\r\n            <input\r\n               id=\"password1\"\r\n               type=\"password\"\r\n               ref={password1Ref}\r\n               className={styles.input}\r\n            />\r\n            <Button type='submit' onClick={dbReloadHandler}>Login</Button>\r\n            <span>or</span>\r\n            <Button onClick={switchHandler}>Sign Up</Button>\r\n         </form>\r\n         {isLoading &&  <h4 className={styles.loading}>Loading...</h4>}\r\n         <h4>{error}</h4>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useRef, useState } from \"react\";\r\nimport styles from \"./Login.module.css\";\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\n\r\n\r\nconst Signup = (props) => {\r\n   const [error, setError]= useState('');\r\nconst username2Ref = useRef();\r\nconst password2Ref = useRef();\r\nconst emailRef = useRef();\r\n\r\n   const switchHandler =()=> {\r\n      props.onClick();\r\n      console.log(password2Ref.current.value, emailRef.current.value)\r\n   }\r\n\r\n   const submitHandler = (event) => {\r\n      event.preventDefault();\r\n      setError('')\r\n      console.log(password2Ref.current.value, emailRef.current.value)\r\n      const enteredUsername = username2Ref.current.value;\r\n      const enteredPassword = password2Ref.current.value;\r\n      const enteredEmail = emailRef.current.value;\r\n\r\n       const userData = {\r\n          username: enteredUsername,\r\n          password: enteredPassword,\r\n          email: enteredEmail\r\n       }\r\n\r\n      fetch('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC4_ps4hI1PjQgwx1YBfyZY2vcAZ_uMqxk',\r\n      {\r\n         method: 'POST',\r\n         body: JSON.stringify({\r\n            email: enteredEmail,\r\n            password: enteredPassword,\r\n            returnSecureToken: true\r\n         }),\r\n         headers: {\r\n            'Content-Type': 'application/json'\r\n         }\r\n      }).then(res => {\r\n         if (res.ok) {\r\n               setError('User Created')\r\n               fetch(\r\n                  \"https://react-project-1-eaa82-default-rtdb.firebaseio.com/users.json\",\r\n                  {\r\n                     method: \"POST\",\r\n                     body: JSON.stringify(userData),\r\n                     headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                     },\r\n                  }\r\n               );\r\n               // ....\r\n         } else {\r\n            return res.json().then(data => {\r\n               // show error modal\r\n               console.log(data.error.message);\r\n               setError(data.error.message);\r\n            })\r\n         }\r\n      });\r\n\r\n      \r\n      username2Ref.current.value = '';\r\n   }\r\n   return (\r\n      <Card className={styles.card}>\r\n         <h2>SIGN UP</h2>\r\n         <form className={styles.form} onSubmit={submitHandler}>\r\n         <label htmlFor=\"username2\" className={styles.label}>\r\n               Username:\r\n            </label>\r\n            <input id=\"username2\" type=\"text\" ref={username2Ref} required className={styles.input}></input>\r\n            <label htmlFor=\"email\" className={styles.label}>\r\n               Email:\r\n            </label>\r\n            <input id=\"email\" type=\"text\" ref={emailRef} required className={styles.input}></input>\r\n            <label htmlFor=\"password2\" className={styles.label}>\r\n               Password:\r\n            </label>\r\n            <input\r\n               id=\"password2\"\r\n               type=\"password\"\r\n               ref={password2Ref} \r\n               required\r\n               className={styles.input}\r\n            ></input>\r\n                     \r\n            <Button type='submit' >Register</Button>\r\n            <span>or</span>\r\n            <Button onClick={switchHandler}>Cancel</Button>\r\n         </form>\r\n         <h4>{error}</h4>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\nimport styles from \"./AddNewProdButton.module.css\"\r\n\r\n\r\nconst AddNewProdButton = props => {\r\nreturn <Card className={styles.card}>\r\n    <Button className={styles.button} onClick={props.onClick}>Add New Product</Button>\r\n</Card>\r\n}\r\n\r\nexport default AddNewProdButton;\r\n\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nimport styles from \"./ErrorModal.module.css\";\r\n\r\nconst ErrorModal = (props) => {\r\n   return (\r\n      <div>\r\n         <div className={styles.backdrop} onClick={props.onClick}></div>\r\n\r\n         <div className={styles.modal}>\r\n            <header className={styles.top}>\r\n               {props.title}\r\n            </header>\r\n            <main className={styles.center}>\r\n               <div>{props.message}</div>\r\n            </main>\r\n            <footer className={styles.bottom}>\r\n               <Button onClick={props.onClick}>Okay</Button>\r\n            </footer>\r\n         </div>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\nimport ErrorModal from \"../UI/ErrorModal\";\r\nimport styles from \"./AddProd.module.css\";\r\n\r\nconst AddProd = (props) => {\r\n   const [prodType, setProdType] = useState(\"\");\r\n   const [prodName, setProdName] = useState(\"\");\r\n   const [prodPrice, setProdPrice] = useState(\"\");\r\n   const [prodDescription, setProdDescription] = useState(\"\");\r\n   const [error, setError] = useState();\r\n\r\n   const infoHandler1 = (event) => {\r\n      setProdType(event.target.value);\r\n   };\r\n   const infoHandler2 = (event) => {\r\n      setProdName(event.target.value);\r\n   };\r\n   const infoHandler3 = (event) => {\r\n      setProdPrice(event.target.value);\r\n   };\r\n   const infoHandler4 = (event) => {\r\n      setProdDescription(event.target.value);\r\n   };\r\n\r\n   const formHandler = (event) => {\r\n      event.preventDefault();\r\n\r\n      if (prodType.trim().length === 0) {\r\n         setError({\r\n            title: \"Product Type is empty\",\r\n            message: \"Select product type\",\r\n         });\r\n         return;\r\n      }\r\n\r\n      if (prodName.trim().length === 0) {\r\n         setError({\r\n            title: \"Product Name is empty\",\r\n            message: \"Type product name\",\r\n         });\r\n         return;\r\n      }\r\n      if (prodPrice.trim().length === 0) {\r\n         setError({\r\n            title: \"Product price is empty\",\r\n            message: \"Type product price\",\r\n         });\r\n         return;\r\n      }\r\n      if (prodDescription.trim().length === 0) {\r\n         setError({\r\n            title: \"Product description is empty\",\r\n            message: \"Type product description\",\r\n         });\r\n         return;\r\n      }\r\n\r\n      // props.onAddProd(prodType, prodName, prodPrice, prodDescription);\r\n      const ProdData = {\r\n         prodType: prodType,\r\n         prodName: prodName,\r\n         prodPrice: prodPrice,\r\n         prodDescription: prodDescription,\r\n      };\r\n\r\n      fetch(\r\n         \"https://react-project-1-eaa82-default-rtdb.firebaseio.com/products.json\",\r\n         {\r\n            method: \"POST\",\r\n            body: JSON.stringify(ProdData),\r\n            headers: {\r\n               \"Content-Type\": \"application/json\",\r\n            },\r\n         }\r\n      );\r\n\r\n      \r\n      props.onClick();\r\n      setProdType(\"\");\r\n      setProdName(\"\");\r\n      setProdPrice(\"\");\r\n      setProdDescription(\"\");\r\n   };\r\n\r\n   const errorHandler = () => {\r\n      setError(null);\r\n   };\r\n\r\n   return (\r\n      <div>\r\n         {error && (\r\n            <ErrorModal\r\n               title={error.title}\r\n               message={error.message}\r\n               onClick={errorHandler}\r\n            />\r\n         )}\r\n\r\n         <Card className={styles.card}>\r\n            <form className={styles.form} onSubmit={formHandler}>\r\n               <h3>Add new product</h3>\r\n               <label htmlFor=\"prodType\">Type:</label>\r\n               <select\r\n                  id=\"prodType\"\r\n                  type=\"text\"\r\n                  value={prodType}\r\n                  onChange={infoHandler1}\r\n               >\r\n                  <option value=\"empty\">-</option>\r\n                  <option value=\"Game\">Game</option>\r\n                  <option value=\"Movie\">Movie</option>\r\n                  <option value=\"Music\">Music</option>\r\n                  <option value=\"App\">App</option>\r\n               </select>\r\n               <label htmlFor=\"prodName\">Name:</label>\r\n               <input\r\n                  id=\"prodName\"\r\n                  type=\"text\"\r\n                  value={prodName}\r\n                  onChange={infoHandler2}\r\n               />\r\n               <label htmlFor=\"prodPrice\">Price:</label>\r\n               <input\r\n                  id=\"prodPrice\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  value={prodPrice}\r\n                  onChange={infoHandler3}\r\n               />\r\n               <label htmlFor=\"prodDescription\">Description:</label>\r\n               <textarea\r\n                  id=\"prodDescription\"\r\n                  type=\"text\"\r\n                  value={prodDescription}\r\n                  onChange={infoHandler4}\r\n               />\r\n               <Button type=\"submit\">Add</Button>\r\n               <Button type=\"button\" onClick={props.onClick}>\r\n                  Cancel\r\n               </Button>\r\n            </form>\r\n         </Card>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default AddProd;\r\n","import React from \"react\";\r\nimport styles from \"./CardBox.module.css\";\r\n\r\nconst CardBox = (props) => {\r\n   return <div className={`${styles.card} ${props.className}`}>{props.children}</div>;\r\n};\r\n\r\nexport default CardBox;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"./Button\";\r\nimport Card from \"./Card\";\r\nimport styles from \"./NavigationBar.module.css\";\r\n\r\nconst NavigationBar = (props) => {\r\n\r\n   const [search,setSearch]=useState('');\r\n\r\n   const clickHandler2=()=> {\r\n       props.onClick('Game');\r\n     \r\n   }\r\n   const clickHandler3=()=> {\r\n       props.onClick('Movie');\r\n      \r\n   }\r\n   const clickHandler4=()=> {\r\n       props.onClick('Music');\r\n       \r\n   }\r\n   const clickHandler5=()=> {\r\n       props.onClick('App');\r\n       \r\n   }\r\n   \r\n\r\n   const searchInputHandler=(e)=>{\r\n      setSearch(e.target.value);\r\n   }\r\n\r\n   const searchHandler=()=> {\r\n      props.searchButton(search);\r\n      setSearch('');\r\n      \r\n   }\r\n\r\n   return (\r\n      <Card className={styles.card}>\r\n         <div className={styles.nav1}>\r\n            \r\n            <div>\r\n               <Button onClick={searchHandler}>All</Button>\r\n            </div>\r\n            <div>\r\n               <Button onClick={clickHandler2}>Games</Button>\r\n            </div>\r\n            <div>\r\n               <Button onClick={clickHandler3}>Movies</Button>\r\n            </div>\r\n            <div>\r\n               <Button onClick={clickHandler4}>Music</Button>\r\n            </div>\r\n            <div>\r\n               <Button onClick={clickHandler5}>Apps</Button>\r\n            </div>\r\n         </div>\r\n         <div className={styles.nav2}>\r\n            <input className={styles.input} onChange={searchInputHandler} value={search}/>\r\n            <Button className={styles.searchButton} onClick={searchHandler}>Search by name</Button>\r\n         </div>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default NavigationBar;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./ProductDetail.module.css\";\r\nimport { useParams, NavLink } from \"react-router-dom\";\r\nimport Card from \"../UI/Card\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport Button from \"../UI/Button\";\r\n\r\nconst ProductDetail = (props) => {\r\n   const params = useParams();\r\n   const [item, setItem] = useState({});\r\n   console.log(params.productId);\r\n\r\n   useEffect(() => {\r\n      props.products.map((prod) => {\r\n         if (prod.id === params.productId) {\r\n            setItem({ name: prod.prodName, desc: prod.prodDescription });\r\n         }\r\n         return null;\r\n      });\r\n   }, [props.products, params.productId, setItem]);\r\n   console.log(item);\r\n   return (\r\n      <Card>\r\n         <div className={styles.modal}>\r\n            <header className={styles.top}>{item.name}</header>\r\n            <main className={styles.center}>\r\n               <div>{item.desc}</div>\r\n            </main>\r\n            <footer className={styles.bottom}>\r\n               <NavLink className={styles.link} to=\"/home\">\r\n                  <Button onClick={props.onClick}>Okay</Button>\r\n               </NavLink>\r\n            </footer>\r\n         </div>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default ProductDetail;\r\n","import React from \"react\";\r\nimport CartContext from \"./cart-context\";\r\nimport { useReducer } from \"react\";\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0,\r\n    itemsInCart: 0,\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === 'ADD') {\r\n        const updatedItems = state.items.concat(action.item);\r\n        const updatedTotalAmount = state.totalAmount + action.item.price;\r\n        const updatedItemsInCart = state.itemsInCart + 1 ;\r\n        \r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n            itemsInCart: updatedItemsInCart\r\n        }\r\n    }\r\n\r\n    if (action.type === 'REMOVE') {\r\n        const cartItemIndex = state.items.findIndex(\r\n            (item) => item.key === action.id\r\n        )\r\n        const cartItem = state.items[cartItemIndex];\r\n    \r\n        const updatedItems = state.items.filter(item => item.key !== action.id);\r\n        const updatedTotalAmount = state.totalAmount - cartItem.price;\r\n        const updatedItemsInCart = state.itemsInCart - 1 ;\r\n\r\n        \r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n            itemsInCart: updatedItemsInCart\r\n        }\r\n    }\r\n\r\n    return defaultCartState;\r\n   \r\n}\r\n\r\nconst CartProvider = (props) => {\r\n\r\n   const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\r\n\r\n    const addItemToCartHandler = (item) => {\r\n        dispatchCartAction({type: 'ADD', item:item})\r\n        \r\n    };\r\n    const removeItemFromCartHandler = (id) => {\r\n        dispatchCartAction({type: 'REMOVE', id:id})\r\n    };\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        itemsInCart: cartState.itemsInCart,\r\n        addItem: addItemToCartHandler,\r\n        removeItem: removeItemFromCartHandler\r\n    }\r\n    // console.log(cartState.items);\r\n    return <CartContext.Provider value={cartContext}>\r\n        {props.children}\r\n    </CartContext.Provider>\r\n}\r\n\r\nexport default CartProvider;","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport Button from \"../UI/Button\";\r\nimport Card from \"../UI/Card\";\r\nimport styles from \"./ProdItem.module.css\";\r\n\r\nconst ProdItem = (props) => {\r\n   const cartCtx = useContext(CartContext);\r\n   // console.log(cartCtx.items, cartCtx.totalAmount);\r\n\r\n   const addToCartHandler = () => {\r\n      cartCtx.addItem({\r\n         key: Math.random(),\r\n         id: props.id,\r\n         name: props.prodName,\r\n         type: props.prodType,\r\n         price: +props.prodPrice,\r\n      });\r\n   };\r\n\r\n   const typeClass = `${styles.type}\r\n                      ${props.prodType === \"Game\" ? styles.Game : \"\"}\r\n                      ${props.prodType === \"Movie\" ? styles.Movie : \"\"}\r\n                      ${props.prodType === \"Music\" ? styles.Music : \"\"}\r\n                      ${props.prodType === \"App\" ? styles.App : \"\"} `;\r\n\r\n   return (\r\n      <Card className={styles.card} key={props.id}>\r\n         <div className={typeClass}></div>\r\n         <div className={styles.name}>\r\n            <NavLink className={styles.link} to={`/home/${props.id}`}>\r\n               {props.prodName}\r\n            </NavLink>\r\n         </div>\r\n         <div className={styles.price}>{`${props.prodPrice}$`}</div>\r\n         <div className={styles.addButton}>\r\n            <Button className={styles.button} onClick={addToCartHandler}>\r\n               Add\r\n            </Button>\r\n         </div>\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default ProdItem;\r\n","import React from \"react\";\r\n\r\nimport { useState } from \"react\";\r\nimport Card from \"../UI/Card\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport ProdItem from \"./ProdItem\";\r\n\r\nconst ProdListNew = (props) => {\r\n\r\n   const [sortedList, setSortedList] = useState([]);\r\n   const dataList = props.dataBase;\r\n   \r\n   useEffect(() => {\r\n      \r\n      console.log(dataList);\r\n\r\n      const newList = dataList.filter((prod) => {\r\n         if (props.sortingBy === \"type\") {\r\n            return prod.prodType === props.searchBy;\r\n         } else if (props.sortingBy === \"name\") {\r\n            \r\n            return (prod.prodName).toLowerCase().includes(props.searchBy.toLowerCase());\r\n               \r\n               \r\n         } else {\r\n            // console.log('sortingType', props.searchBy, dataList)\r\n            return console.log(\"eroare la sortare\", props.searchBy);\r\n         }\r\n      });\r\n\r\n      \r\n      setSortedList(newList);\r\n      console.log(newList);\r\n   }, [dataList , props.searchBy, props.sortingBy]);\r\n\r\n\r\n   return (\r\n      <Card>\r\n         {sortedList.map((prod) => (\r\n            <div key={Math.random()}>\r\n               <ProdItem\r\n                  id={prod.id}\r\n                  prodType={prod.prodType}\r\n                  prodName={prod.prodName}\r\n                  prodPrice={prod.prodPrice}\r\n               />\r\n            </div>\r\n         ))}\r\n      </Card>\r\n   );\r\n};\r\n\r\nexport default ProdListNew;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styles from './LoadingDatabase.module.css';\r\n\r\n\r\nconst LoadingDatabase = props => {\r\n\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [dataList, setDataList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        fetch(\r\n           \"https://react-project-1-eaa82-default-rtdb.firebaseio.com/products.json\"\r\n        )\r\n           .then((response) => {\r\n              return response.json();\r\n           })\r\n           .then((data) => {\r\n              const realData = [];\r\n              for (const key in data) {\r\n                 const dataItem = {\r\n                    id: key,\r\n                    ...data[key],\r\n                 };\r\n    \r\n                 realData.push(dataItem);\r\n              }\r\n    \r\n              setIsLoading(false);\r\n              setDataList(realData);\r\n           });\r\n     }, []);\r\n\r\n     if (isLoading) {\r\n        return (\r\n           <section>\r\n              <div className={styles.loading}>Loading db...</div>\r\n           </section>\r\n        );\r\n     }\r\n\r\n     props.dataBase(dataList);\r\n     console.log(dataList, isLoading);\r\n\r\n    return null;\r\n}\r\n\r\nexport default LoadingDatabase;","import React, { useContext, useState } from \"react\";\n\nimport Cart from \"./components/Cart/Cart\";\nimport Footer from \"./components/Layout/Footer\";\nimport Header from \"./components/Layout/Header\";\nimport Main from \"./components/Layout/Main\";\nimport Login from \"./components/Login/Login\";\nimport Signup from \"./components/Login/Signup\";\nimport AddNewProdButton from \"./components/Product/AddNewProdButton\";\nimport AddProd from \"./components/Product/AddProd\";\n\nimport CardBox from \"./components/UI/CardBox\";\nimport NavigationBar from \"./components/UI/NavigationBar\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport ProductDetail from \"./components/Product/ProductDetail\";\n\nimport CartProvider from \"./store/CartProvider\";\nimport ProdListNew from \"./components/Product/ProdListNew\";\nimport LoadingDatabase from \"./components/Product/LoadingDatabase\";\nimport AuthContext from \"./store/auth-context\";\nimport styles from \"./index.module.css\";\n\nfunction App() {\n   const [selectedType, setSelectedType] = useState(\"name\");\n   const [searchedItem, setSearchedItem] = useState(\"\");\n   const [formState, setFormState] = useState(\"open\");\n   const [dataBase, setDataBase] = useState([]);\n   const [switch1, setSwitch1] = useState(false);\n   const [dbReload, setDbReload] = useState(true);\n\n   const addFormHandler = () => {\n      if (formState === \"open\") {\n         setFormState(\"close\");\n      } else {\n         setFormState(\"open\");\n      }\n      console.log(formState);\n   };\n\n   const switch1Handler = () => {\n      console.log(switch1);\n      setSwitch1(!switch1);\n   };\n\n   const dbReloadHandler = () => {\n      console.log('login Handler')\n      setDbReload(false);\n   };\n\n   const sortByTypeHandler = (search) => {\n      setSelectedType(\"type\");\n      setSearchedItem(search);\n   };\n\n   const searchedItemHandler = (search) => {\n      setSelectedType(\"name\");\n      setSearchedItem(search);\n   };\n\n   const databaseHandler = (db) => {\n      setDataBase(db);\n      setTimeout(()=>{setDbReload(false)},1000)\n      \n   };\n\n   const authCtx = useContext(AuthContext);\n   const isLoggedIn = authCtx.isLoggedIn;\n\n   console.log('loggedin:',isLoggedIn , 'admin:', authCtx.admin, 'dbReload', dbReload);\n\n   return (\n      <CartProvider>\n         <Switch>\n            <Route path=\"/\" exact>\n               <Redirect to=\"/login\" />\n            </Route>\n            <Route path=\"/login\">\n               <CardBox>\n                  <Header />\n                  {!isLoggedIn && (\n                     <Main className={styles.main}>\n                        {!switch1 && <Login onClick={switch1Handler} dbReload={dbReloadHandler} />}\n                        {switch1 && <Signup onClick={switch1Handler} />}\n                        <LoadingDatabase dataBase={databaseHandler} />\n                     </Main>\n                  )}\n                  <Footer />\n               </CardBox>\n            </Route>\n\n            <Route path=\"/home\" exact>\n               <CardBox>\n                  <Header />\n                  {isLoggedIn && (\n                     <Main>\n                        {formState === \"open\" && (\n                           <>\n                              <NavigationBar\n                                 onClick={sortByTypeHandler}\n                                 searchButton={searchedItemHandler}\n                              />\n                              {authCtx.admin === true &&<AddNewProdButton onClick={addFormHandler} />}\n                              {dbReload && <LoadingDatabase dataBase={databaseHandler} />}\n                              <ProdListNew\n                                 sortingBy={selectedType}\n                                 searchBy={searchedItem}\n                                 dataBase={dataBase}\n                              />\n                              \n                           </>\n                        )}\n                        {formState === \"close\"  && (\n                           <AddProd onClick={addFormHandler} />\n                        )}\n                     </Main>\n                  )}\n                  <Footer />\n               </CardBox>\n            </Route>\n            <Route path=\"/cart\">\n               <CardBox>\n                  <Header />\n                  {isLoggedIn && (\n                     <Main>\n                        <Cart products={dataBase} />\n                     </Main>\n                  )}\n                  <Footer />\n               </CardBox>\n            </Route>\n            <Route path=\"/home/:productId\">\n               <CardBox>\n                  <Header />\n                  <Main>\n                     <ProductDetail products={dataBase} />\n                  </Main>\n                  <Footer />\n               </CardBox>\n            </Route>\n            <Route path=\"*\" exact>\n               <Redirect to=\"/\" />\n            </Route>\n         </Switch>\n      </CartProvider>\n   );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.module.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nReactDOM.render(\n   <AuthContextProvider>\n      <BrowserRouter>\n         <App />\n      </BrowserRouter>\n   </AuthContextProvider>,\n   document.getElementById(\"root\")\n);\n"],"sourceRoot":""}